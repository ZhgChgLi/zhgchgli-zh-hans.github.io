<!doctype html><html lang="zh-cn" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="zh_cn" /><meta name="description" content="针对iOS开发者面临UUID限制与封锁问题，解析Swift中UUID取得方法及IDFV替代方案，并提供Key-Chain持久化UUID实作，助你稳定辨识装置唯一值，避免重装APP导致识别码变动，提升用户追踪与资料一致性。" /><meta property="og:description" content="针对iOS开发者面临UUID限制与封锁问题，解析Swift中UUID取得方法及IDFV替代方案，并提供Key-Chain持久化UUID实作，助你稳定辨识装置唯一值，避免重装APP导致识别码变动，提升用户追踪与资料一致性。" /><link rel="canonical" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" /><meta property="og:url" content="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" /><meta property="og:site_name" content="ZhgChgLi (Harry Li)" /><meta property="og:image" content="https://zh-hans.zhgchg.li/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-10-25T22:26:20+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://zh-hans.zhgchg.li/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" /><meta property="twitter:title" content="iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@zhgchgli" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi","url":"https://www.linkedin.com/in/zhgchgli"},"dateModified":"2024-04-13T15:21:43+08:00","datePublished":"2018-10-25T22:26:20+08:00","description":"针对iOS开发者面临UUID限制与封锁问题，解析Swift中UUID取得方法及IDFV替代方案，并提供Key-Chain持久化UUID实作，助你稳定辨识装置唯一值，避免重装APP导致识别码变动，提升用户追踪与资料一致性。","headline":"iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略","image":{"lqip":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+","url":"https://zh-hans.zhgchg.li/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/"},"url":"https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/"}</script><title>iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略 | ZhgChgLi (Harry Li)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi (Harry Li)"><meta name="application-name" content="ZhgChgLi (Harry Li)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=false" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6WZJENT8WR"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-6WZJENT8WR'); }); </script><link rel="alternate" hreflang="en" href="https://en.zhgchg.li/posts/zrealm-dev/ios-uuid-explained-swift-techniques-for-unique-device-identification-a4bc3bce7513/"><link rel="alternate" hreflang="ja" href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/ios-uuid%E3%81%AE%E5%9F%BA%E7%A4%8E%E3%81%A8%E5%BF%9C%E7%94%A8-swift%E3%81%A7uuid%E7%AE%A1%E7%90%86%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95-a4bc3bce7513/"><link rel="alternate" hreflang="zh-Hant" href="https://zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%9D%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AD%98%E5%88%A5%E8%88%87idfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/"><link rel="alternate" hreflang="zh-Hans" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/"><link rel="alternate" hreflang="x-default" href="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/"><link rel="stylesheet" href="/assets/css/post-toc.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">ZhgChgLi (Harry Li)</a><p class="site-subtitle fst-italic mb-0">An iOS, web, and automation developer from Taiwan 🇹🇼 who also loves sharing, traveling, and writing.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item" style="padding:0 15px 0 15px;"> <a href="https://medium.com/@zhgchgli" class="nav-link" target="_blank" style="background:#EDF4FF;color:#0A84FF;font-size:15px;transition:background-color .2s,color .2s;" onmouseover="this.style.backgroundColor='#0A84FF';this.style.color='#ffffff';" onmouseout="this.style.backgroundColor='#EDF4FF';this.style.color='#0A84FF';"> <i class="fa-brands fa-medium"></i> <span><span style="font-size: 18px; font-weight: boild;">Follow Me on Medium!</span><br/><u>1,050+</u> Followers</span> </a><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>关于我</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>联络我</span> </a><li class="nav-item"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;"> <a href="https://zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%9D%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AD%98%E5%88%A5%E8%88%87idfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #666;background:#111;color:#fff;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a></div><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;"> <a href="https://en.zhgchg.li/posts/zrealm-dev/ios-uuid-explained-swift-techniques-for-unique-device-identification-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <span style="width:1px;height:18px;background:rgba(0,0,0,.12);"></span> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/ios-uuid%E3%81%AE%E5%9F%BA%E7%A4%8E%E3%81%A8%E5%BF%9C%E7%94%A8-swift%E3%81%A7uuid%E7%AE%A1%E7%90%86%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#f3f3f3;color:#555;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首页</a> </span> <span>iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜寻..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略</h1><p class="post-desc fw-light mb-4">针对iOS开发者面临UUID限制与封锁问题，解析Swift中UUID取得方法及IDFV替代方案，并提供Key-Chain持久化UUID实作，助你稳定辨识装置唯一值，避免重装APP导致识别码变动，提升用户追踪与资料一致性。</p><div class="post-meta text-muted"> <span> 发布于 <time data-ts="1540477580" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2018 年 10 月 25 日 </time> </span> <span> 更新于 <time data-ts="1712992903" data-df="YYYY 年 M 月 D 日" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024 年 04 月 13 日 </time> </span><div class="mt-3 mb-3"> <a href="/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" class="popup img-link preview-img blur"><img data-src="/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></div><div class="d-flex justify-content-between"> <span style="display: inline-flex; align-items: center; gap: 4px;"> 作者 <em> <a href="https://www.linkedin.com/in/zhgchgli">ZhgChgLi</a> </em> | <em><a href="https://www.linkedin.com/in/zhgchgli" target="_blank">Senior Software Engineer</a></em><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="16" height="16" style="display: block; "><path fill="#007bff" d="M271.2 56C265.1 49.8 256.2 47.3 247.8 49.6C239.4 51.9 232.9 58.4 230.8 66.8L215.5 127C214.4 131.4 209.9 134 205.6 132.7L145.8 115.9C137.4 113.5 128.4 115.9 122.3 122C116.2 128.1 113.8 137.1 116.2 145.5L133.1 205.3C134.3 209.6 131.7 214.1 127.4 215.2L67.1 230.5C58.7 232.6 52.1 239.2 49.8 247.6C47.5 256 50 264.9 56.2 271L100.7 314.3C103.9 317.4 103.9 322.6 100.7 325.8L56.3 369.1C50.1 375.2 47.6 384.1 49.9 392.5C52.2 400.9 58.8 407.4 67.2 409.6L127.4 424.9C131.8 426 134.4 430.5 133.1 434.8L116.2 494.5C113.8 502.9 116.2 511.9 122.3 518C128.4 524.1 137.4 526.5 145.8 524.1L205.6 507.2C209.9 506 214.4 508.6 215.5 512.9L230.8 573.1C232.9 581.5 239.5 588.1 247.9 590.4C256.3 592.7 265.2 590.2 271.3 584L314.6 539.5C317.7 536.3 322.9 536.3 326.1 539.5L369.3 584C375.4 590.2 384.3 592.7 392.7 590.4C401.1 588.1 407.6 581.5 409.8 573.1L425.1 513C426.2 508.6 430.7 506 435 507.3L494.8 524.2C503.2 526.6 512.2 524.2 518.3 518.1C524.4 512 526.8 503 524.4 494.6L507.5 434.8C506.3 430.5 508.9 426 513.2 424.9L573.4 409.6C581.8 407.5 588.4 400.9 590.7 392.5C593 384.1 590.5 375.1 584.3 369.1L539.8 325.8C536.6 322.7 536.6 317.5 539.8 314.3L584.3 271C590.5 264.9 593 256 590.7 247.6C588.4 239.2 581.8 232.7 573.4 230.5L513.2 215.2C508.8 214.1 506.2 209.6 507.5 205.3L524.4 145.5C526.8 137.1 524.4 128.1 518.3 122C512.2 115.9 503.2 113.5 494.8 115.9L435 132.8C430.7 134 426.2 131.4 425.1 127.1L409.8 66.8C407.7 58.4 401.1 51.8 392.7 49.5C384.3 47.2 375.4 49.7 369.3 55.9L326 100.5C322.9 103.7 317.7 103.7 314.5 100.5L271.2 56z"/><path d="M250 330 l60 60 100 -140" stroke="#ffffff" stroke-width="40" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1809 字" > <em>10 分钟</em>阅读</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">章节目录 🔖</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">iOS UUID 解析｜Swift装置唯一识别与IDFV替代方案全攻略</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div aria-label="Language switch" style="display:flex;align-items:center;justify-content:flex-end;"> <a href="https://zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%9D%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AD%98%E5%88%A5%E8%88%87idfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 正體中文 </a> <a href="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid #dc3545;background:#dc3545;color:#fff !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 简体中文 </a> <a href="https://en.zhgchg.li/posts/zrealm-dev/ios-uuid-explained-swift-techniques-for-unique-device-identification-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> English </a> <a href="https://jp.zhgchg.li/posts/zrealm%E3%81%AE%E9%96%8B%E7%99%BA/ios-uuid%E3%81%AE%E5%9F%BA%E7%A4%8E%E3%81%A8%E5%BF%9C%E7%94%A8-swift%E3%81%A7uuid%E7%AE%A1%E7%90%86%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95-a4bc3bce7513/" style="display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(220,53,69,.35);background:rgba(220,53,69,.08);color:#dc3545 !important;font-size:12px;font-weight:600;line-height:1;text-decoration:none;"> 日本語 </a></div><blockquote class="prompt-info"><p>基于 SEO 考量，本文标题与描述经 AI 调整，原始版本请参考内文。</p></blockquote><h4 id="zhgchgli-table-of-contents">文章目录</h4><nav class="zhgchgli-toc"><ul class="zhgchgli-toc-list"><li><a href="#ios-uuid-的那些事-swiftios--6">iOS UUID 的那些事 (Swift/iOS ≥ 6)</a></li><li><a href="#前言">前言</a></li><li class="has-children"><details><summary>UUID的那些事 <a href="#uuid的那些事">#</a></summary><ul><li><a href="#替代方案">替代方案</a></li><li><a href="#id-entifier-f-or-v-endor-idfv">ID entifier F or V endor (IDFV)</a></li><li><a href="#完整code">完整CODE</a></li></ul></details></li></ul></nav><hr /><h3 id="ios-uuid-的那些事-swiftios--6"><span class="me-2">iOS UUID 的那些事 (Swift/iOS ≥ 6)</span><a href="#ios-uuid-的那些事-swiftios--6" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>iPlayground 2018 回来 &amp; UUID那些事</p><h3 id="前言"><span class="me-2">前言：</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>上周六、日跑去参加 <a href="https://iplayground.io/" target="_blank">iPlayground</a> Apple 软体开发者研讨会，这个活动讯息是同事PASS过来的，去之前我也不清楚这个活动。</p><p><a href="/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" class="popup img-link blur"><img data-src="/assets/a4bc3bce7513/1*gEmmuDOD92d2b2fLp4AKsw.webp" alt="" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAwIiBoZWlnaHQ9IjEwNDkiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImdyZXkiLz48L3N2Zz4="></a></p><p>两天下来，整题活动跟时程安排流畅，议程内容：</p><ol><li><p>趣味的：脚踏车、凋零的Code、iOS/API 演进史、威利在哪里(CoreML Vision)</p><li><p>实用的：测试类 (XCUITest、依赖注入)、SpriteKit 做动画效果的替代方案、GraphQL</p><li><p>真功夫：深入拆解Swift、iOS 越狱/Tweak开发、Redux</p></ol><p>脚踏车Project 印象深刻，用iPhone手机当感测器感测脚踏车踏板转动，直接在台上骑脚踏车切换投影片(前辈主要目标是要做开源版zwift，也分享了许多地雷，例如Client/Sever通信、延迟问题、磁场干扰)</p><p>凋零的Dirty Code；听得心有戚戚，在心里会心一笑；技术债就是这样一直累积下来的，开发时程赶，所以用架构性较差的快速做法，后人接手改也没时间重构，就越积越多；到最后可能真的只有打掉这条路了</p><p>测试类(Design Patterns in XCUITest) <a href="https://www.facebook.com/TestingWithKK/" target="_blank">KKBOX的前辈</a> ，完全没藏私直接公开他们的作法及程式范例细节还有遇到的雷、解决办法，这堂也是对我们工作上最有帮助的项目；测试这块是我一直想加强的部分，可以回去好好研究研究</p><p>Lighting Talk的部分在台下听得也好想上去分享😂 下次要提早做好准备了!</p><p>会后的offical party，酒水食物场地都很有诚意，听前辈们的真心话吐露，很轻松有趣之外还吸收许多职场软实力．</p><p><a href="/assets/a4bc3bce7513/1*Xwk_96lVKcMKgeL7IOC70g.webp" class="popup img-link blur"><img data-src="/assets/a4bc3bce7513/1*Xwk_96lVKcMKgeL7IOC70g.webp" alt="台大后台咖啡" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAwIiBoZWlnaHQ9IjkwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iZ3JleSIvPjwvc3ZnPg=="></a></p><p>台大后台咖啡</p><p>我才知道原来这是第一届，真的有荣幸能够参加，所有工作人员跟讲者辛苦了！</p><p>去参加研讨会的目的不外乎就是要： <strong>增加广度</strong> ，吸收新知、了解生态、碰一些平常不会接触的项目跟 <strong>增加深度</strong> ，如果是自己已经摸过的项目就是去听听看有没有遗漏的地方或是还有其他做法没发现．</p><p>抄了许多笔记可以回来慢慢研究回味。</p><h3 id="uuid的那些事"><span class="me-2">UUID的那些事</span><a href="#uuid的那些事" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因为我听完回去后马上实际应用到APP上；这堂是由Zonble前辈主讲，我听到从iPhone OS 2写到iOS 12我就跪了；由于入行较晚，我是从iOS 11/Swift 4 才开始写，所以没碰到那些因为苹果修改API的动乱时期。</p><p>想想UUID从可以取得到封锁也是蛮合理的；如果是用在良善的地方：辨识使用者装置、广告或第三方运用唯一性去做广告操作；但如果有厂商想做恶，也可以透过这个机制反查，知道你这只手机的主人是怎么样的人？(例如有装旅游+台北等公车＋BMW APP+婴儿照护 就能推测你很常出国家里有小孩而且住在台北 之类的资讯)再加上你在APP上输入的个资，能拿去做什么应用不敢想像</p><p>但这其中也波及到很多正当守法的用户，像是本来用UUID当使用者的资料解密KEY或用UUID当装置判断都受到很大的影响；真佩服那个时期的工程师前辈们，这些影响老板跟使用者一定会狂骂，要急中生智找其他替代办法．</p><h4 id="替代方案"><span class="me-2">替代方案：</span><a href="#替代方案" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>本篇文章以取得UUID辨识装置唯一值为主，如果是要找知道使用者装了哪些APP的替代方案可参考以下关键字搜寻做法： <a href="https://link.medium.com/YTheNPnHH7" target="_blank">UIPasteboard pasteboardWithName: create: (运用剪贴簿在APP间共享)</a> 、canOpenURL: info.plist LSApplicationQueriesSchmes (运用canOpenURL检查APO有无安装，要在info.plist列举，最多50笔)</p><ol><li><p>用MAC Address当UUID，但后来也被BAN了</p><li><p><a href="https://medium.com/@ravielakshmanan/web-browser-uniqueness-and-fingerprinting-7eac3c381805" target="_blank">Finger Printing (Canvas/User-Agent…)</a> ：没研究，不过这项目主要拿来让safari跟app能产生同样的UUID， <a href="https://www.jianshu.com/p/fa48387d56ea" target="_blank">Deferred Deep Linking</a> (延迟深度连结)用 <a href="https://amiunique.org/" target="_blank">AmIUnique?</a></p><li><p><a href="https://www.jianshu.com/p/b810d7e007ad" target="_blank"><strong>ID</strong> entifier <strong>F</strong> or <strong>V</strong> endor</a> (IDFV)：目前主流的解决方案🏆 概念是苹果会根据你的Bundle ID前辍为使用者产生UUID，相同的Bundle ID前辍会产生相同的UUID，例如:com.518.work/com.518.job 同个装置会得到相同的UUID 如同原文ID For Vendor，相同的前辍苹果认为即是相同厂商的APP，所以共享UUID是允许的。</p></ol><h4 id="id-entifier-f-or-v-endor-idfv"><span class="me-2"><strong>ID</strong> entifier <strong>F</strong> or <strong>V</strong> endor (IDFV)：</span><a href="#id-entifier-f-or-v-endor-idfv" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">DEVICE_UUID</span><span class="p">:</span><span class="kt">String</span> <span class="o">=</span> <span class="kt">UIDevice</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">identifierForVendor</span><span class="p">?</span><span class="o">.</span><span class="n">uuidString</span> <span class="p">??</span> <span class="kt">UUID</span><span class="p">()</span><span class="o">.</span><span class="n">uuidString</span>
</pre></table></code></div></div><p><strong>唯需注意：当所有同Vendor的APP都移除后再重装就会产生新的UUID (</strong> com.518.work跟com.518.job都被删除，再装回com.518.work这时就会产生新的UUID <strong>)</strong> <strong>同理如果你只有一个APP，删掉重装就会产生新的UUID</strong></p><p>因为这个特性，我们公司的其他APP是使用Key-Chain来解决这个问题，听了讲者前辈的指点也验证了这个做法是正确的！</p><p><strong>流程如下：</strong></p><p><a href="/assets/a4bc3bce7513/1*-8rufG1QW-J5tn6ZadT17A.webp" class="popup img-link blur"><img data-src="/assets/a4bc3bce7513/1*-8rufG1QW-J5tn6ZadT17A.webp" alt="Key-Chain UUID栏位有值时取值，无则取IDFA的UUID值并回写" data-lqip="true" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDEiIGhlaWdodD0iNDQxIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJncmV5Ii8+PC9zdmc+"></a></p><p>Key-Chain UUID栏位有值时取值，无则取IDFA的UUID值并回写</p><p>Key-Chain 写入方式：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">DEVICE_UUID</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">kSecClass</span> <span class="k">as</span> <span class="kt">String</span>       <span class="p">:</span> <span class="n">kSecClassGenericPassword</span> <span class="k">as</span> <span class="kt">String</span><span class="p">,</span>
        <span class="n">kSecAttrAccount</span> <span class="k">as</span> <span class="kt">String</span> <span class="p">:</span> <span class="s">"DEVICE_UUID"</span><span class="p">,</span>
        <span class="n">kSecValueData</span> <span class="k">as</span> <span class="kt">String</span>   <span class="p">:</span> <span class="n">data</span> <span class="p">]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>
    
    <span class="kt">SecItemDelete</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">)</span>
    <span class="kt">SecItemAdd</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Key-Chain 读取方式：</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">kSecClass</span> <span class="k">as</span> <span class="kt">String</span>       <span class="p">:</span> <span class="n">kSecClassGenericPassword</span><span class="p">,</span>
    <span class="n">kSecAttrAccount</span> <span class="k">as</span> <span class="kt">String</span> <span class="p">:</span> <span class="s">"DEVICE_UUID"</span><span class="p">,</span>
    <span class="n">kSecReturnData</span> <span class="k">as</span> <span class="kt">String</span>  <span class="p">:</span> <span class="n">kCFBooleanTrue</span><span class="p">,</span>
    <span class="n">kSecMatchLimit</span> <span class="k">as</span> <span class="kt">String</span>  <span class="p">:</span> <span class="n">kSecMatchLimitOne</span> <span class="p">]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>

<span class="k">var</span> <span class="nv">dataTypeRef</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">let</span> <span class="nv">status</span><span class="p">:</span> <span class="kt">OSStatus</span> <span class="o">=</span> <span class="kt">SecItemCopyMatching</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dataTypeRef</span><span class="p">)</span>
<span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">noErr</span><span class="p">,</span><span class="k">let</span> <span class="nv">dataTypeRef</span> <span class="o">=</span> <span class="n">dataTypeRef</span> <span class="k">as?</span> <span class="kt">Data</span><span class="p">,</span><span class="k">let</span> <span class="nv">uuid</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span><span class="n">dataTypeRef</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">//uuid</span>
<span class="p">}</span> 
</pre></table></code></div></div><p>如果嫌 Key-Chain 操作太繁琐可以自行封装或使用第三方套件。</p><h4 id="完整code"><span class="me-2">完整CODE：</span><a href="#完整code" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">DEVICE_UUID</span><span class="p">:</span><span class="kt">String</span> <span class="o">=</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">kSecClass</span> <span class="k">as</span> <span class="kt">String</span>       <span class="p">:</span> <span class="n">kSecClassGenericPassword</span><span class="p">,</span>
        <span class="n">kSecAttrAccount</span> <span class="k">as</span> <span class="kt">String</span> <span class="p">:</span> <span class="s">"DEVICE_UUID"</span><span class="p">,</span>
        <span class="n">kSecReturnData</span> <span class="k">as</span> <span class="kt">String</span>  <span class="p">:</span> <span class="n">kCFBooleanTrue</span><span class="p">,</span>
        <span class="n">kSecMatchLimit</span> <span class="k">as</span> <span class="kt">String</span>  <span class="p">:</span> <span class="n">kSecMatchLimitOne</span> <span class="p">]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>
    
    <span class="k">var</span> <span class="nv">dataTypeRef</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
    <span class="k">let</span> <span class="nv">status</span><span class="p">:</span> <span class="kt">OSStatus</span> <span class="o">=</span> <span class="kt">SecItemCopyMatching</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dataTypeRef</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">noErr</span><span class="p">,</span><span class="k">let</span> <span class="nv">dataTypeRef</span> <span class="o">=</span> <span class="n">dataTypeRef</span> <span class="k">as?</span> <span class="kt">Data</span><span class="p">,</span><span class="k">let</span> <span class="nv">uuid</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span><span class="n">dataTypeRef</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">uuid</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">DEVICE_UUID</span><span class="p">:</span><span class="kt">String</span> <span class="o">=</span> <span class="kt">UIDevice</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">identifierForVendor</span><span class="p">?</span><span class="o">.</span><span class="n">uuidString</span> <span class="p">??</span> <span class="kt">UUID</span><span class="p">()</span><span class="o">.</span><span class="n">uuidString</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">DEVICE_UUID</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">query</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">kSecClass</span> <span class="k">as</span> <span class="kt">String</span>       <span class="p">:</span> <span class="n">kSecClassGenericPassword</span> <span class="k">as</span> <span class="kt">String</span><span class="p">,</span>
                <span class="n">kSecAttrAccount</span> <span class="k">as</span> <span class="kt">String</span> <span class="p">:</span> <span class="s">"DEVICE_UUID"</span><span class="p">,</span>
                <span class="n">kSecValueData</span> <span class="k">as</span> <span class="kt">String</span>   <span class="p">:</span> <span class="n">data</span> <span class="p">]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>
        
            <span class="kt">SecItemDelete</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">)</span>
            <span class="kt">SecItemAdd</span><span class="p">(</span><span class="n">query</span> <span class="k">as</span> <span class="kt">CFDictionary</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kt">DEVICE_UUID</span>
    <span class="p">}</span>
<span class="p">}()</span>
</pre></table></code></div></div><p>因为我在其他Extension Target也需要参照所以直接包成一个闭包参数使用</p><p>有任何问题及指教欢迎 <a href="https://www.zhgchg.li/contact" target="_blank">与我联络</a> 。</p><script src="/assets/clipboard.min.js"></script><div style=" display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; background:#f9fafb; padding:12px 16px; border-radius:12px; margin:18px 0; box-shadow:0 3px 8px rgba(0,0,0,0.05); width: auto;"> <input id="share-url" value="https://zh-hans.zhgchg.li/posts/zrealm-dev/ios-uuid-%E8%A7%A3%E6%9E%90-swift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8Eidfv%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5-a4bc3bce7513/" readonly="" style=" flex:1; border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:0.9rem; background:#ffffff; color:#111827; outline:none; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; " /> <button class="btn" data-clipboard-target="#share-url" id="copy-btn" style=" border:none; background:#3b82f6; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; font-size:0.85rem; font-weight:600; display:flex; align-items:center; gap:6px; transition:all .15s ease; box-shadow:0 2px 5px rgba(59,130,246,0.35); " onmouseover="this.style.opacity='0.92';" onmouseout="this.style.opacity='1';"> <span style="font-size:1rem;">🔗</span> <span id="copy-btn-text">Copy link to share!</span> </button></div><script> new ClipboardJS('.btn'); var btn = document.getElementById("copy-btn"); var text = document.getElementById("copy-btn-text"); btn.addEventListener("click", function () { text.textContent = "Copied!"; btn.style.background = "#16a34a"; btn.style.boxShadow = "0 2px 6px rgba(22,163,74,0.35)"; setTimeout(() => { text.textContent = "Copy link to share!"; btn.style.background = "#3b82f6"; btn.style.boxShadow = "0 2px 5px rgba(59,130,246,0.35)"; }, 1500); });</script><hr /><p><a href="https://www.paypal.com/ncp/payment/CMALMPT8UUTY2" target="_blank" rel="noopener" style="display:block;margin:12px 0;text-align:center;align-items:center;justify-content:center;padding:10px 22px;border-radius:999px;text-decoration:none;background:linear-gradient(135deg,#ffd54f,#ffb300);color:#000;font-size:16px;font-weight:700;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;transition:all .15s ease;width:350px" onmouseover="this.style.background=&quot;linear-gradient(135deg,#FFE082,#FFC107)&quot;,this.style.transform=&quot;translateY(-1px)&quot;,this.style.boxShadow=&quot;0 6px 14px rgba(0,0,0,0.2)&quot;" onmouseout="this.style.background=&quot;linear-gradient(135deg,#FFD54F,#FFB300)&quot;,this.style.transform=&quot;translateY(0)&quot;,this.style.boxShadow=&quot;0 4px 10px rgba(0,0,0,0.15)&quot;">🍺 Buy me a beer on PayPal</a></p><blockquote class="prompt-tip"><p>👉👉👉 <a href="https://medium.com/@zhgchgli" target="_blank"><strong>Follow Me On Medium!</strong> (1,050+ Followers)</a> 👈👈👈</p></blockquote><blockquote class="prompt-info"><p>本文首次发表于 Medium (<a href="https://medium.com/p/a4bc3bce7513" target="_blank"><strong>点击查看原始版本</strong></a>)，由 <a href="/posts/tools/medium-to-jekyll/" target="_blank">ZMediumToMarkdown</a> 提供自动转换与同步技术。</p></blockquote><blockquote class="prompt-info"><p><a href="https://github.com/ZhgChgLi/zhgchgli.github.io/blob/main/_posts/zh-cn/zmediumtomarkdown/2018-10-25-a4bc3bce7513.md" target="_blank">Improve this page on Github.</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/zrealm-dev/">ZRealm Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/simplified-chinese/" class="post-tag no-text-decoration" >simplified-chinese</a> <a href="/tags/iplayground/" class="post-tag no-text-decoration" >iplayground</a> <a href="/tags/swift/" class="post-tag no-text-decoration" >swift</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/uuid/" class="post-tag no-text-decoration" >uuid</a> <a href="/tags/idfv/" class="post-tag no-text-decoration" >idfv</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者以 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh-hans"> CC BY 4.0 </a> 授权。</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%20UUID%20%E8%A7%A3%E6%9E%90%EF%BD%9CSwift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8EIDFV%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5%20-%20ZhgChgLi%20(Harry%20Li)&url=https%3A%2F%2Fzh-hans.zhgchg.li%2Fposts%2Fzrealm-dev%2Fios-uuid-%25E8%25A7%25A3%25E6%259E%2590-swift%25E8%25A3%2585%25E7%25BD%25AE%25E5%2594%25AF%25E4%25B8%2580%25E8%25AF%2586%25E5%2588%25AB%25E4%25B8%258Eidfv%25E6%259B%25BF%25E4%25BB%25A3%25E6%2596%25B9%25E6%25A1%2588%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-a4bc3bce7513%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%20UUID%20%E8%A7%A3%E6%9E%90%EF%BD%9CSwift%E8%A3%85%E7%BD%AE%E5%94%AF%E4%B8%80%E8%AF%86%E5%88%AB%E4%B8%8EIDFV%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E5%85%A8%E6%94%BB%E7%95%A5%20-%20ZhgChgLi%20(Harry%20Li)&u=https%3A%2F%2Fzh-hans.zhgchg.li%2Fposts%2Fzrealm-dev%2Fios-uuid-%25E8%25A7%25A3%25E6%259E%2590-swift%25E8%25A3%2585%25E7%25BD%25AE%25E5%2594%25AF%25E4%25B8%2580%25E8%25AF%2586%25E5%2588%25AB%25E4%25B8%258Eidfv%25E6%259B%25BF%25E4%25BB%25A3%25E6%2596%25B9%25E6%25A1%2588%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-a4bc3bce7513%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzh-hans.zhgchg.li%2Fposts%2Fzrealm-dev%2Fios-uuid-%25E8%25A7%25A3%25E6%259E%2590-swift%25E8%25A3%2585%25E7%25BD%25AE%25E5%2594%25AF%25E4%25B8%2580%25E8%25AF%2586%25E5%2588%25AB%25E4%25B8%258Eidfv%25E6%259B%25BF%25E4%25BB%25A3%25E6%2596%25B9%25E6%25A1%2588%25E5%2585%25A8%25E6%2594%25BB%25E7%2595%25A5-a4bc3bce7513%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="复制连结" data-title-succeed="连结已成功复制！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/app-store-connect-api-webhook-%E4%B8%B2%E6%8E%A5-%E6%8F%90%E5%8D%87-ios-ci-cd-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%88%E7%8E%87%E4%B8%8E%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B-7c0974856393/">CI/CD 使用 App Store Connect API Webhook 串接自动化工作流程</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ci-cd-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E7%A8%B3%E5%AE%9A%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E7%9A%84%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9-c008a9e8ceca/">CI/CD 实战指南（一）：CI/CD 是什么？如何透过 CI/CD 打造稳定高效的开发团队？工具选择？</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/google-apps-script-web-app-%E6%89%93%E9%80%A0-github-action-ci-cd-%E8%87%AA%E8%AE%A2%E8%A1%A8%E5%8D%95%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87-4cb4437818f2/">使用 Google Apps Script Web App 表单串接 Github Action CI/CD 工作</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-robotic-process-automation/github-action-%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2-zreviewtender-app-%E5%95%86%E5%9F%8E%E8%AF%84%E4%BB%B7%E7%9B%91%E6%8E%A7%E6%9C%BA%E5%99%A8%E4%BA%BA-%E4%B8%89%E6%AD%A5%E9%AA%A4%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-0095528cf875/">Quick Start! Github Action x ZReviewTender 免费快速部署你的 App 商城评价监控机器人</a><li class="text-truncate lh-lg"> <a href="/posts/zrealm-dev/ios-timer-%E4%B8%8E-dispatchsourcetimer-%E9%80%89%E6%8B%A9%E4%B8%8E%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%85%E6%8A%80%E5%B7%A7-%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA%E9%98%B2%E6%AD%A2%E9%97%AA%E9%80%80-62f68ebeecd3/">iOS Timer 与 DispatchSourceTimer 如何选择与安全的使用?</a></ul></section><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">章节目录 🔖</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">延伸阅读</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/zrealm-dev/iplayground-2019-%E5%8F%B0%E5%A4%A7%E5%8D%9A%E9%9B%85%E9%A6%86%E6%8A%80%E6%9C%AF%E7%9B%9B%E4%BC%9A%E5%85%A8%E7%BA%AA%E5%BD%95%E4%B8%8Eswiftui-app%E5%AE%89%E5%85%A8%E7%B2%BE%E5%8D%8E%E8%A7%A3%E6%9E%90-4079036c85c2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1569160038" data-df="YYYY 年 M 月 D 日" > 2019 年 09 月 22 日 </time><h4 class="pt-0 my-2">iPlayground 2019 是怎么样的体验？</h4><div class="text-muted"><p>iPlayground 2019 火热热参加心得</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/ios-%E5%A4%9A%E8%AF%AD%E7%B3%BB%E5%AD%97%E4%B8%B2%E4%BF%9D%E9%99%A9-swiftgen-unittest-%E7%A1%AE%E4%BF%9D-localizable-strings-%E6%97%A0%E8%AF%AF-48a8526c1300/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1657879804" data-df="YYYY 年 M 月 D 日" > 2022 年 07 月 15 日 </time><h4 class="pt-0 my-2">iOS 为多语系字串买份保险吧！</h4><div class="text-muted"><p>确保 Localizable.strings 文字档不被意外改坏</p></div></div></a></article><article class="col"> <a href="/posts/zrealm-dev/visitor-pattern-%E5%9C%A8-ios-swift-%E5%88%86%E4%BA%AB%E5%8A%9F%E8%83%BD%E5%BA%94%E7%94%A8-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E5%8A%A1%E8%A7%A3%E6%9E%90%E4%B8%8E%E6%9C%80%E4%BD%B3%E6%9E%B6%E6%9E%84%E4%BC%98%E5%8C%96-ba5773a7bfea/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1623772716" data-df="YYYY 年 M 月 D 日" > 2021 年 06 月 15 日 </time><h4 class="pt-0 my-2">Visitor Pattern in iOS (Swift)</h4><div class="text-muted"><p>Design Pattern Visitor 在 iOS 开发的实际应用场景分析</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/zrealm-dev/ios-app-3d-touch-%E5%8A%9F%E8%83%BD%E5%AE%9E%E4%BD%9C-swift-%E6%95%99%E5%AD%A6%E4%B8%8E%E9%A2%84%E8%A7%88-%E6%8D%B7%E5%BE%84%E5%90%AF%E5%8A%A8%E6%8A%80%E5%B7%A7-1ca246e27273/" class="btn btn-outline-primary" aria-label="上一篇" ><p>iOS APP 3D Touch 功能实作｜Swift 教学与预览、捷径启动技巧</p></a> <a href="/posts/zrealm-dev/ios-12-%E9%9D%99%E9%9F%B3%E6%8E%A8%E6%92%AD%E9%80%9A%E7%9F%A5%E6%9D%83%E9%99%90-swift-%E4%B8%B4%E6%97%B6%E6%8E%88%E6%9D%83%E5%AE%9E%E4%BD%9C%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%8C%96%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90-ade9e745a4bf/" class="btn btn-outline-primary" aria-label="下一篇" ><p>什么？iOS 12 不需使用者授权就能收到推播通知(Swift)</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有注明，本网站上的所有文章皆由作者依据 创用 CC 姓名标示 4.0 国际授权条款（CC BY 4.0）授权使用。" >版权所有。</span> <br/> 最后更新时间:2025-12-31 01:44:53 +08:00</p><p>本站使用 <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> 主题建置于 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>。<br/> Medium 文章由 <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a> 转换而成。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/simplified-chinese/">simplified-chinese</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%96%8B%E7%AE%B1/">開箱</a> <a class="post-tag btn btn-outline-primary" href="/tags/google-apps-script/">google-apps-script</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">发现有新的内容版本。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'zh-CN';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli-zh-hans.github.io', 'data-repo-id': 'R_kgDOQwFqjA', 'data-category': 'General', 'data-category-id': 'DIC_kwDOQwFqjM4C0UN-', 'data-mapping': 'url', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">找不到符合的结果。</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
